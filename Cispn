--// DANCIN HUB — FINAL DARK UI WITH ADVANCED KEY + PERM KEYS //--

local Players   = game:GetService("Players")
local UIS       = game:GetService("UserInputService")
local TS        = game:GetService("TweenService")
local RS        = game:GetService("RunService")
local CoreGui   = game:GetService("CoreGui")

local player = Players.LocalPlayer

-- forward references
local main, bottomBar, rightBar, snow

----------------------------------------------------------------
-- ADVANCED KEY SYSTEM — GitHub Key + Local Save + Permanent Keys
----------------------------------------------------------------
local KEY_URL = "https://raw.githubusercontent.com/Cispn/Dancin-Hub/refs/heads/main/Key"

-- permanent keys (never expire, always auto-login)
local permanentKeys = {
	"CispnLovesHisPrettyGf",
	"CispnLikeFembois",
	"MakingEDancingAlive",
}

local folder = "DancinHub"
local file   = folder.."/savedKey.txt"

if not isfolder(folder) then
	makefolder(folder)
end

local function readSavedKey()
	if isfile(file) then
		return readfile(file)
	end
	return ""
end

local function saveKey(k)
	writefile(file, k)
end

local function trim(str)
	return (str or ""):gsub("%s+","")
end

local function isPermanent(k)
	local t = trim(k)
	for _,perm in ipairs(permanentKeys) do
		if t == trim(perm) then
			return true
		end
	end
	return false
end

-- fetch current key from GitHub
local fetchedKey = ""
local ok, err = pcall(function()
	fetchedKey = game:HttpGet(KEY_URL)
end)

if not ok then
	warn("DancinHub Key Fetch Failed:", err)
	fetchedKey = ""
end

local currentKey = trim(fetchedKey)
local savedKey   = trim(readSavedKey())

-- Option B:
--  auto-unlock if saved key == current Git key OR saved key is permanent
_G.DHUB_UNLOCKED = (savedKey ~= "" and (savedKey == currentKey or isPermanent(savedKey)))
_G.DHUB_LoadHub  = nil

-- only show key UI if not already unlocked
if not _G.DHUB_UNLOCKED then
	local keyGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
	keyGui.IgnoreGuiInset = true
	keyGui.ResetOnSpawn = false
	keyGui.Name = "KeySystem"

	local frame = Instance.new("Frame", keyGui)
	frame.Size = UDim2.new(0, 320, 0, 160)
	frame.Position = UDim2.new(0.5, -160, 0.5, -80)
	frame.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
	frame.BorderSizePixel = 0

	local title = Instance.new("TextLabel", frame)
	title.Size = UDim2.new(1, 0, 0, 40)
	title.Position = UDim2.new(0, 0, 0, 10)
	title.BackgroundTransparency = 1
	title.Font = Enum.Font.GothamSemibold
	title.TextSize = 20
	title.TextColor3 = Color3.fromRGB(240, 240, 240)
	title.Text = "Enter Key"

	local box = Instance.new("TextBox", frame)
	box.Size = UDim2.new(0, 260, 0, 35)
	box.Position = UDim2.new(0.5, -130, 0, 60)
	box.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
	box.Text = ""
	box.PlaceholderText = "Enter Key Here"
	box.Font = Enum.Font.Gotham
	box.TextSize = 18
	box.TextColor3 = Color3.fromRGB(255,255,255)
	box.PlaceholderColor3 = Color3.fromRGB(180,180,180)
	box.BorderSizePixel = 0

	local submit = Instance.new("TextButton", frame)
	submit.Size = UDim2.new(0, 260, 0, 35)
	submit.Position = UDim2.new(0.5, -130, 0, 105)
	submit.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
	submit.Text = "Submit"
	submit.Font = Enum.Font.GothamSemibold
	submit.TextSize = 18
	submit.TextColor3 = Color3.fromRGB(255,255,255)
	submit.BorderSizePixel = 0

	submit.MouseButton1Click:Connect(function()
		local entered = trim(box.Text)

		-- PERMANENT KEY CHECK
		if isPermanent(entered) then
			-- save the perm key itself (Option B)
			saveKey(entered)
			_G.DHUB_UNLOCKED = true
			if keyGui then keyGui:Destroy() end
			print("DancinHub: Permanent key used.")

			if _G.DHUB_LoadHub then
				_G.DHUB_LoadHub()
			end
			return
		end

		-- NORMAL GITHUB KEY CHECK
		if entered == currentKey and currentKey ~= "" then
			saveKey(entered)
			_G.DHUB_UNLOCKED = true
			if keyGui then keyGui:Destroy() end
			print("DancinHub: Correct key.")

			if _G.DHUB_LoadHub then
				_G.DHUB_LoadHub()
			end
		else
			box.Text = ""
			box.PlaceholderText = "Wrong Key!"
			box.PlaceholderColor3 = Color3.fromRGB(255,80,80)

			for _ = 1,3 do
				frame.Position = frame.Position + UDim2.new(0, 5, 0, 0)
				task.wait(0.03)
				frame.Position = frame.Position + UDim2.new(0,-10, 0, 0)
				task.wait(0.03)
				frame.Position = frame.Position + UDim2.new(0, 5, 0, 0)
			end

			box.PlaceholderColor3 = Color3.fromRGB(180,180,180)
			box.PlaceholderText = "Enter Key Here"
		end
	end)
end

--------------------------------------------------------
-- HUB LOADER FUNCTION (only runs after key is valid)
--------------------------------------------------------
local function LoadHub()
	if not _G.DHUB_UNLOCKED then return end

	--------------------------------------------------------
	-- MAIN GUI
	--------------------------------------------------------
	local gui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
	gui.IgnoreGuiInset = true
	gui.ResetOnSpawn = false
	gui.Name = "DancinHub"

	main = Instance.new("Frame", gui)
	main.Size = UDim2.new(0, 650, 0, 420)
	main.Position = UDim2.new(0.5, -325, 0.5, -210)
	main.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
	main.BorderSizePixel = 0
	main.Active = true
	main.Visible = true

	--------------------------------------------------------
	-- DRAGGING
	--------------------------------------------------------
	local dragging = false
	local dragStart, startPos

	main.InputBegan:Connect(function(i)
		if i.UserInputType == Enum.UserInputType.MouseButton1 then
			dragging = true
			dragStart = i.Position
			startPos = main.Position
		end
	end)

	main.InputChanged:Connect(function(i)
		if dragging and i.UserInputType == Enum.UserInputType.MouseMovement then
			local delta = i.Position - dragStart
			main.Position = UDim2.new(
				startPos.X.Scale, startPos.X.Offset + delta.X,
				startPos.Y.Scale, startPos.Y.Offset + delta.Y
			)
		end
	end)

	UIS.InputEnded:Connect(function(i)
		if i.UserInputType == Enum.UserInputType.MouseButton1 then
			dragging = false
		end
	end)

	--------------------------------------------------------
	-- FLOATING BOTTOM BAR
	--------------------------------------------------------
	local bottomGui = Instance.new("ScreenGui", CoreGui)
	bottomGui.IgnoreGuiInset = true

	bottomBar = Instance.new("Frame", bottomGui)
	bottomBar.Size = UDim2.new(0, 650, 0, 40)
	bottomBar.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
	bottomBar.BorderSizePixel = 0
	bottomBar.Visible = true

	local bottomLabel = Instance.new("TextLabel", bottomBar)
	bottomLabel.Size = UDim2.new(1, 0, 1, 0)
	bottomLabel.BackgroundTransparency = 1
	bottomLabel.Text = "By Cispn  •  v1"
	bottomLabel.Font = Enum.Font.GothamSemibold
	bottomLabel.TextSize = 18
	bottomLabel.TextColor3 = Color3.fromRGB(240, 240, 240)
	bottomLabel.TextTransparency = 0.4

	task.spawn(function()
		while true do
			TS:Create(bottomLabel, TweenInfo.new(1), { TextTransparency = 0 }):Play()
			task.wait(1)
			TS:Create(bottomLabel, TweenInfo.new(1), { TextTransparency = 0.45 }):Play()
			task.wait(1)
		end
	end)

	local BOTTOM_GAP = 80
	local BOTTOM_RIGHT_SHIFT = 60

	RS.Heartbeat:Connect(function()
		if not main or not bottomBar then return end
		local pos = main.AbsolutePosition
		local size = main.AbsoluteSize
		bottomBar.Position = UDim2.new(
			0,
			pos.X + size.X/2 - 325 + BOTTOM_RIGHT_SHIFT,
			0,
			pos.Y + size.Y + BOTTOM_GAP
		)
	end)

	--------------------------------------------------------
	-- RIGHT SIDEBAR
	--------------------------------------------------------
	local rightGui = Instance.new("ScreenGui", CoreGui)
	rightGui.IgnoreGuiInset = true

	rightBar = Instance.new("Frame", rightGui)
	rightBar.Size = UDim2.new(0, 42, 0, 240)
	rightBar.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
	rightBar.BorderSizePixel = 0
	rightBar.Visible = true

	local iconFrame = Instance.new("Frame", rightBar)
	iconFrame.Size = UDim2.new(1,0,1,0)
	iconFrame.Position = UDim2.new(0,0,0,12)
	iconFrame.BackgroundTransparency = 1

	local layout = Instance.new("UIListLayout", iconFrame)
	layout.Padding = UDim.new(0,12)
	layout.HorizontalAlignment = Enum.HorizontalAlignment.Center
	layout.VerticalAlignment = Enum.VerticalAlignment.Top

	local selectedIcon
	local pages = {}

	local function addTextIcon(symbol, callback)
		local btn = Instance.new("TextButton", iconFrame)
		btn.Size = UDim2.new(0, 26, 0, 26)
		btn.BackgroundTransparency = 1
		btn.Text = symbol
		btn.Font = Enum.Font.GothamBold
		btn.TextSize = 20
		btn.TextColor3 = Color3.fromRGB(240,240,240)

		btn.MouseEnter:Connect(function()
			TS:Create(btn, TweenInfo.new(0.12), {
				Size = UDim2.new(0,30,0,30)
			}):Play()
		end)

		btn.MouseLeave:Connect(function()
			if selectedIcon ~= btn then
				TS:Create(btn, TweenInfo.new(0.12), {
					Size = UDim2.new(0,26,0,26)
				}):Play()
			end
		end)

		btn.MouseButton1Click:Connect(function()
			if selectedIcon and selectedIcon ~= btn then
				TS:Create(selectedIcon, TweenInfo.new(0.12), {
					Size = UDim2.new(0,26,0,26)
				}):Play()
			end
			selectedIcon = btn
			TS:Create(btn, TweenInfo.new(0.12), {
				Size = UDim2.new(0,32,0,32)
			}):Play()
			if callback then callback() end
		end)
	end

	local RIGHT_OFFSET = 25

	RS.Heartbeat:Connect(function()
		if not main or not rightBar then return end
		local pos = main.AbsolutePosition
		local size = main.AbsoluteSize
		rightBar.Position = UDim2.new(
			0,
			pos.X + size.X + RIGHT_OFFSET,
			0,
			pos.Y + size.Y/2 - rightBar.AbsoluteSize.Y/2
		)
	end)

	--------------------------------------------------------
	-- PAGE SYSTEM
	--------------------------------------------------------
	local function createPage(name)
		local p = Instance.new("Frame", main)
		p.Size = UDim2.new(1,-40,1,-60)
		p.Position = UDim2.new(0,20,0,20)
		p.BackgroundColor3 = Color3.fromRGB(18,18,18)
		p.BorderSizePixel = 0
		p.Visible = false
		pages[name] = p
		return p
	end

	local home     = createPage("Home")
	local exploits = createPage("Exploits")
	local emotes   = createPage("Emotes")
	local credits  = createPage("Credits")

	home.Visible = true
	--------------------------------------------------------
	-- HOME TITLE
	--------------------------------------------------------
	local title = Instance.new("TextLabel", home)
	title.Size = UDim2.new(0,200,0,30)
	title.Position = UDim2.new(0,25,0,10)
	title.BackgroundTransparency = 1
	title.Font = Enum.Font.GothamSemibold
	title.TextSize = 22
	title.TextColor3 = Color3.fromRGB(240,240,240)
	title.Text = "Main"
	title.TextXAlignment = Enum.TextXAlignment.Left

	--------------------------------------------------------
	-- HOME BUTTON BUILDER
	--------------------------------------------------------
	local function makeBtn(text, y)
		local btn = Instance.new("TextButton", home)
		btn.Size = UDim2.new(0,260,0,28)
		btn.Position = UDim2.new(0,40,0,y)
		btn.BackgroundTransparency = 1
		btn.Text = text
		btn.Font = Enum.Font.Gotham
		btn.TextSize = 20
		btn.TextColor3 = Color3.fromRGB(200,200,200)
		btn.TextXAlignment = Enum.TextXAlignment.Left

		btn.MouseEnter:Connect(function()
			TS:Create(btn, TweenInfo.new(0.15, Enum.EasingStyle.Quad), {
				Position = UDim2.new(0,48,0,y),
				TextColor3 = Color3.fromRGB(255,255,255),
				TextSize = 21
			}):Play()
		end)

		btn.MouseLeave:Connect(function()
			TS:Create(btn, TweenInfo.new(0.15, Enum.EasingStyle.Quad), {
				Position = UDim2.new(0,40,0,y),
				TextColor3 = Color3.fromRGB(200,200,200),
				TextSize = 20
			}):Play()
		end)

		return btn
	end

	--------------------------------------------------------
	-- HOME BUTTON FUNCTIONS
	--------------------------------------------------------
local tpBtn = makeBtn("F to Teleport", 60)

tpBtn.MouseButton1Click:Connect(function()

	-- Services
	local Players = game:GetService("Players")
	local UserInputService = game:GetService("UserInputService")
	local TweenService = game:GetService("TweenService")
	local player = Players.LocalPlayer
	local mouse = player:GetMouse()

	-- Tween settings (set time to 0 for instant teleport)
	local tweenInfo = TweenInfo.new(
		0.15,
		Enum.EasingStyle.Linear,
		Enum.EasingDirection.Out
	)

	local function teleportToMouse()
		local character = player.Character
		if not character then return end

		local root = character:FindFirstChild("HumanoidRootPart")
		if not root then return end

		if not mouse.Hit then return end

		-- Offset so you don't get stuck in the ground
		local targetCFrame = CFrame.new(mouse.Hit.Position + Vector3.new(0, 3, 0))

		-- Tween instead of MoveTo (keeps emotes playing)
		local tween = TweenService:Create(root, tweenInfo, {
			CFrame = targetCFrame
		})

		tween:Play()
	end

	-- Press F to teleport
	UserInputService.InputBegan:Connect(function(input, gameProcessed)
		if gameProcessed then return end
		if input.KeyCode == Enum.KeyCode.F then
			teleportToMouse()
		end
	end)

end)


	local tripBtn = makeBtn("T to Trip", 100)
	tripBtn.MouseButton1Click:Connect(function()
		UIS.InputBegan:Connect(function(i,g)
			if not g and i.KeyCode == Enum.KeyCode.T then
				local char = player.Character
				local hum = char and char:FindFirstChildOfClass("Humanoid")
				local root = char and char:FindFirstChild("HumanoidRootPart")
				if hum and root then
					hum:ChangeState(0)
					root.Velocity = root.CFrame.LookVector * 30
				end
			end
		end)
	end)

	local rewindBtn = makeBtn("Hold C for Rewind", 140)
	rewindBtn.MouseButton1Click:Connect(function()
		loadstring(game:HttpGet("https://raw.githubusercontent.com/platinum-ViniVX/mic-up-script-pack/refs/heads/main/rewind%20script"))()
	end)

	local fbBtn = makeBtn("Z for Face Bang", 180)
	fbBtn.MouseButton1Click:Connect(function()
		loadstring(game:HttpGet("https://raw.githubusercontent.com/EnterpriseExperience/bruhlolw/refs/heads/main/face_bang_script.lua"))()
	end)

	--------------------------------------------------------
	-- EXPLOITS TITLE
	--------------------------------------------------------
	local exTitle = Instance.new("TextLabel", exploits)
	exTitle.Size = UDim2.new(0,200,0,30)
	exTitle.Position = UDim2.new(0,25,0,10)
	exTitle.BackgroundTransparency = 1
	exTitle.Font = Enum.Font.GothamSemibold
	exTitle.TextSize = 22
	exTitle.TextColor3 = Color3.fromRGB(240,240,240)
	exTitle.Text = "Exploits"
	exTitle.TextXAlignment = Enum.TextXAlignment.Left

	--------------------------------------------------------
	-- EXPLOITS BUTTON BUILDER
	--------------------------------------------------------
	local function makeExBtn(text, y)
		local btn = Instance.new("TextButton", exploits)
		btn.Size = UDim2.new(0,260,0,28)
		btn.Position = UDim2.new(0,40,0,y)
		btn.BackgroundTransparency = 1
		btn.Text = text
		btn.Font = Enum.Font.Gotham
		btn.TextSize = 20
		btn.TextColor3 = Color3.fromRGB(200,200,200)
		btn.TextXAlignment = Enum.TextXAlignment.Left

		btn.MouseEnter:Connect(function()
			TS:Create(btn, TweenInfo.new(0.15, Enum.EasingStyle.Quad), {
				Position = UDim2.new(0,48,0,y),
				TextColor3 = Color3.fromRGB(255,255,255),
				TextSize = 21
			}):Play()
		end)

		btn.MouseLeave:Connect(function()
			TS:Create(btn, TweenInfo.new(0.15, Enum.EasingStyle.Quad), {
				Position = UDim2.new(0,40,0,y),
				TextColor3 = Color3.fromRGB(200,200,200),
				TextSize = 20
			}):Play()
		end)

		return btn
	end

	--------------------------------------------------------
	-- EXPLOITS BUTTONS (WITH GLITCH ON TOP)
	--------------------------------------------------------
	-- Glitch
	local glitchBtn = makeExBtn("Glitch", 60)
	glitchBtn.MouseButton1Click:Connect(function()
		loadstring(game:HttpGet(
			"https://raw.githubusercontent.com/0Ben1/fe/main/obf_11l7Y131YqJjZ31QmV5L8pI23V02b3191sEg26E75472Wl78Vi8870jRv5txZyL1.lua.txt"
		))()
	end)

	-- Infinite Yield
	local iyBtn = makeExBtn("Infinite Yield", 100)
	iyBtn.MouseButton1Click:Connect(function()
		loadstring(game:HttpGet("https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source"))()
	end)

	-- System Broken
	local sbBtn = makeExBtn("System Broken", 140)
	sbBtn.MouseButton1Click:Connect(function()
		loadstring(game:HttpGet("https://raw.githubusercontent.com/Cispn/Dancin-Hub/refs/heads/main/System%20Broken"))()
	end)

	-- Ak Admin
	local akBtn = makeExBtn("Ak Admin", 180)
	akBtn.MouseButton1Click:Connect(function()
		loadstring(game:HttpGet("https://akadmin-bzk.pages.dev/Mains/Enjoy.lua"))()
	end)

	-- Animation Copy
	local animCopyBtn = makeExBtn("Animation Copy", 220)
	animCopyBtn.MouseButton1Click:Connect(function()
		loadstring(game:HttpGet("https://github.com/Venturazh/copyanim/raw/refs/heads/main/copyanim", true))()
	end)

	--------------------------------------------------------
	-- EMOTES TITLE
	--------------------------------------------------------
	local emTitle = Instance.new("TextLabel", emotes)
	emTitle.Size = UDim2.new(0,200,0,30)
	emTitle.Position = UDim2.new(0,25,0,10)
	emTitle.BackgroundTransparency = 1
	emTitle.Font = Enum.Font.GothamSemibold
	emTitle.TextSize = 22
	emTitle.TextColor3 = Color3.fromRGB(240,240,240)
	emTitle.Text = "Emotes"
	emTitle.TextXAlignment = Enum.TextXAlignment.Left

	--------------------------------------------------------
	-- EMOTES BUTTON BUILDER
	--------------------------------------------------------
	local function makeEmoteBtn(text, y)
		local btn = Instance.new("TextButton", emotes)
		btn.Size = UDim2.new(0,260,0,28)
		btn.Position = UDim2.new(0,40,0,y)
		btn.BackgroundTransparency = 1
		btn.Text = text
		btn.Font = Enum.Font.Gotham
		btn.TextSize = 20
		btn.TextColor3 = Color3.fromRGB(200,200,200)
		btn.TextXAlignment = Enum.TextXAlignment.Left

		btn.MouseEnter:Connect(function()
			TS:Create(btn, TweenInfo.new(0.15, Enum.EasingStyle.Quad), {
				Position = UDim2.new(0,48,0,y),
				TextColor3 = Color3.fromRGB(255,255,255),
				TextSize = 21
			}):Play()
		end)

		btn.MouseLeave:Connect(function()
			TS:Create(btn, TweenInfo.new(0.15, Enum.EasingStyle.Quad), {
				Position = UDim2.new(0,40,0,y),
				TextColor3 = Color3.fromRGB(200,200,200),
				TextSize = 20
			}):Play()
		end)

		return btn
	end

	--------------------------------------------------------
	-- EMOTES BUTTONS (GUI 1)
	--------------------------------------------------------
	local gui1Btn = makeEmoteBtn("GUI 1", 60)
	gui1Btn.MouseButton1Click:Connect(function()
		loadstring(game:HttpGet("https://raw.githubusercontent.com/Cispn/Dancin-Hub/refs/heads/main/GUI%201"))()
	end)

	--------------------------------------------------------
	-- CREDITS TITLE
	--------------------------------------------------------
	local crTitle = Instance.new("TextLabel", credits)
	crTitle.Size = UDim2.new(0,200,0,30)
	crTitle.Position = UDim2.new(0,25,0,10)
	crTitle.BackgroundTransparency = 1
	crTitle.Font = Enum.Font.GothamSemibold
	crTitle.TextSize = 22
	crTitle.TextColor3 = Color3.fromRGB(240,240,240)
	crTitle.Text = "Credits"
	crTitle.TextXAlignment = Enum.TextXAlignment.Left

	--------------------------------------------------------
	-- CREDITS TEXT
	--------------------------------------------------------
	local creditText = Instance.new("TextLabel", credits)
	creditText.Size = UDim2.new(1, -60, 0, 180)
	creditText.Position = UDim2.new(0, 30, 0, 60)
	creditText.BackgroundTransparency = 1
	creditText.Font = Enum.Font.Gotham
	creditText.TextSize = 16
	creditText.TextColor3 = Color3.fromRGB(230, 230, 230)
	creditText.TextXAlignment = Enum.TextXAlignment.Left
	creditText.TextYAlignment = Enum.TextYAlignment.Top
	creditText.TextWrapped = true

	creditText.Text = [[
Dancin Hub — Version 1.0

This script is still improving.  
New features and updates will continue to release.  

Thank you for using Dancin Hub.

• Creator: Cispn  
• UI Design & Features: Cispn  
• Powered by: ChatGPT  

Your support helps the project grow. Enjoy!
]]
	--------------------------------------------------------
	-- SIDEBAR ICONS (⌂ ◎ ♫ ❖)
	--------------------------------------------------------
	addTextIcon("⌂", function()
		for _,p in pairs(pages) do
			p.Visible = false
		end
		home.Visible = true
	end)

	addTextIcon("◎", function()
		for _,p in pairs(pages) do
			p.Visible = false
		end
		exploits.Visible = true
	end)

	addTextIcon("♫", function()
		for _,p in pairs(pages) do
			p.Visible = false
		end
		emotes.Visible = true
	end)

	addTextIcon("❖", function()
		for _,p in pairs(pages) do
			p.Visible = false
		end
		credits.Visible = true
	end)

	--------------------------------------------------------
	-- SNOW EFFECT
	--------------------------------------------------------
	snow = Instance.new("Frame", main)
	snow.Size = UDim2.new(1,0,1,0)
	snow.BackgroundTransparency = 1
	snow.ClipsDescendants = true
	snow.Visible = true

	task.spawn(function()
		while true do
			local f = Instance.new("Frame", snow)
			f.Size = UDim2.new(0, math.random(3,6), 0, math.random(3,6))
			f.Position = UDim2.new(math.random(), 0, -0.05, 0)
			f.BackgroundColor3 = Color3.new(1,1,1)
			f.BorderSizePixel = 0

			TS:Create(f, TweenInfo.new(math.random(3,5)), {
				Position = UDim2.new(f.Position.X.Scale, 0, 1.1, 0),
				BackgroundTransparency = 1
			}):Play()

			task.delay(4, function()
				f:Destroy()
			end)

			task.wait(0.1)
		end
	end)

	--------------------------------------------------------
	-- K TOGGLE UI
	--------------------------------------------------------
	local visible = true

	UIS.InputBegan:Connect(function(i,g)
		if g then return end
		if i.KeyCode == Enum.KeyCode.K then
			visible = not visible
			if main then main.Visible = visible end
			if rightBar then rightBar.Visible = visible end
			if bottomBar then bottomBar.Visible = visible end
			if snow then snow.Visible = visible end
		end
	end)
end

-- expose loader for key system
_G.DHUB_LoadHub = LoadHub

-- if key already valid (saved key == Git key OR perm key), load hub immediately
if _G.DHUB_UNLOCKED then
	LoadHub()
end
